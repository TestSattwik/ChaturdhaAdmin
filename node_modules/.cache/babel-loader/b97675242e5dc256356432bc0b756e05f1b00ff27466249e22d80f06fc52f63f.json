{"ast":null,"code":"import _objectSpread from\"D:/ArlTech/ChaturdhaAdmin/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"D:/ArlTech/ChaturdhaAdmin/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/ArlTech/ChaturdhaAdmin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/ArlTech/ChaturdhaAdmin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{api}from'../Api/Api';// Import the axios library\nimport{Card,Stack,Button,Container,Typography,TextField}from'@mui/material';import{useDropzone}from'react-dropzone';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function Vehicle(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),vehicleName=_useState2[0],setVehicleName=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),imageFile=_useState4[0],setImageFile=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),imagePreview=_useState6[0],setImagePreview=_useState6[1];var handleFormSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var formData,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();formData=new FormData();formData.append('name',vehicleName);formData.append('image',imageFile);// Add the image file to the formData\n_context.prev=4;_context.next=7;return api.post('api/product/vehicles/',formData,{headers:{'Content-Type':'multipart/form-data'}});case 7:response=_context.sent;// Handle the success response, e.g., show a success message or redirect\nconsole.log('Request successful:',response.data);// Clear or reset the form fields by updating the state variables\nsetVehicleName('');setImageFile(null);setImagePreview(null);_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](4);// Handle any errors that occurred during the POST request\nconsole.error('Error:',_context.t0);case 17:case\"end\":return _context.stop();}},_callee,null,[[4,14]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();function Basic(props){var _useDropzone=useDropzone({accept:'image/*',onDrop:function onDrop(acceptedFiles){setImageFile(acceptedFiles[0]);// Create a URL for the image preview\nvar imageURL=URL.createObjectURL(acceptedFiles[0]);setImagePreview(imageURL);}}),acceptedFiles=_useDropzone.acceptedFiles,getRootProps=_useDropzone.getRootProps,getInputProps=_useDropzone.getInputProps;var files=acceptedFiles.map(function(file){return/*#__PURE__*/_jsxs(\"li\",{children:[file.path,\" - \",file.size,\" bytes\"]},file.path);});var dropzoneStyle={flex:1,display:'flex',flexDirection:'column',alignItems:'center',padding:'20px',borderWidth:2,borderRadius:2,borderColor:'#eeeeee',borderStyle:'dashed',backgroundColor:'#fafafa',color:'#bdbdbd',outline:'none',transition:'border .24s ease-in-out'};var dropzoneClassName='dropzone';return/*#__PURE__*/_jsxs(\"section\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},getRootProps({style:dropzoneStyle,className:dropzoneClassName})),{},{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({},getInputProps())),/*#__PURE__*/_jsx(\"p\",{children:\"Drag 'n' drop some files here, or click to select files\"})]})),/*#__PURE__*/_jsxs(\"aside\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Uploaded Images :\"}),/*#__PURE__*/_jsx(\"ul\",{children:files})]}),imagePreview&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Image Preview:\"}),/*#__PURE__*/_jsx(\"img\",{src:imagePreview,alt:\"Image Preview\",style:{maxWidth:'100%'}})]})]});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Stack,{direction:\"row\",alignItems:\"center\",justifyContent:\"space-between\",mb:5,children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Create New Vehicle For Arl-Tech\"})}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleFormSubmit,children:/*#__PURE__*/_jsxs(Stack,{spacing:3,p:4,children:[/*#__PURE__*/_jsx(TextField,{label:\"Enter Vehicle Name\",fullWidth:true,value:vehicleName,onChange:function onChange(e){return setVehicleName(e.target.value);}}),/*#__PURE__*/_jsxs(Stack,{mt:4,children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Upload Image\"}),/*#__PURE__*/_jsx(Basic,{})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"warning\",children:\"Submit\"})]})})})]});}","map":{"version":3,"names":["React","useState","api","Card","Stack","Button","Container","Typography","TextField","useDropzone","jsxs","_jsxs","jsx","_jsx","Vehicle","props","_useState","_useState2","_slicedToArray","vehicleName","setVehicleName","_useState3","_useState4","imageFile","setImageFile","_useState5","_useState6","imagePreview","setImagePreview","handleFormSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","formData","response","wrap","_callee$","_context","prev","next","preventDefault","FormData","append","post","headers","sent","console","log","data","t0","error","stop","_x","apply","arguments","Basic","_useDropzone","accept","onDrop","acceptedFiles","imageURL","URL","createObjectURL","getRootProps","getInputProps","files","map","file","children","path","size","dropzoneStyle","flex","display","flexDirection","alignItems","padding","borderWidth","borderRadius","borderColor","borderStyle","backgroundColor","color","outline","transition","dropzoneClassName","className","_objectSpread","style","src","alt","maxWidth","direction","justifyContent","mb","variant","gutterBottom","onSubmit","spacing","p","label","fullWidth","value","onChange","target","mt","type"],"sources":["D:/ArlTech/ChaturdhaAdmin/src/pages/Vehicle.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {api} from '../Api/Api'; // Import the axios library\r\nimport { Card, Stack, Button, Container, Typography,TextField} from '@mui/material';\r\nimport { useDropzone } from 'react-dropzone';\r\n\r\nexport default function Vehicle(props) {\r\n  const [vehicleName, setVehicleName] = useState('');\r\n  const [imageFile, setImageFile] = useState(null);\r\n  const [imagePreview, setImagePreview] = useState(null);\r\n\r\n  const handleFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    formData.append('name', vehicleName);\r\n    formData.append('image', imageFile); // Add the image file to the formData\r\n\r\n    try {\r\n      const response = await api.post('api/product/vehicles/', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n\r\n      // Handle the success response, e.g., show a success message or redirect\r\n      console.log('Request successful:', response.data);\r\n\r\n      // Clear or reset the form fields by updating the state variables\r\n      setVehicleName('');\r\n      setImageFile(null);\r\n      setImagePreview(null);\r\n    } catch (error) {\r\n      // Handle any errors that occurred during the POST request\r\n      console.error('Error:', error);\r\n    }\r\n  };\r\n\r\n  function Basic(props) {\r\n    const { acceptedFiles, getRootProps, getInputProps } = useDropzone({\r\n      accept: 'image/*',\r\n      onDrop: (acceptedFiles) => {\r\n        setImageFile(acceptedFiles[0]);\r\n\r\n        // Create a URL for the image preview\r\n        const imageURL = URL.createObjectURL(acceptedFiles[0]);\r\n        setImagePreview(imageURL);\r\n      },\r\n    });\r\n\r\n    const files = acceptedFiles.map(file => (\r\n      <li key={file.path}>\r\n        {file.path} - {file.size} bytes\r\n      </li>\r\n    ));\r\n\r\n    const dropzoneStyle = {\r\n      flex: 1,\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      padding: '20px',\r\n      borderWidth: 2,\r\n      borderRadius: 2,\r\n      borderColor: '#eeeeee',\r\n      borderStyle: 'dashed',\r\n      backgroundColor: '#fafafa',\r\n      color: '#bdbdbd',\r\n      outline: 'none',\r\n      transition: 'border .24s ease-in-out',\r\n    };\r\n\r\n    const dropzoneClassName = 'dropzone';\r\n\r\n    return (\r\n      <section className=\"container\">\r\n        <div {...getRootProps({ style: dropzoneStyle, className: dropzoneClassName })}>\r\n          <input {...getInputProps()} />\r\n          <p>Drag 'n' drop some files here, or click to select files</p>\r\n        </div>\r\n        <aside>\r\n          <h4>Uploaded Images :</h4>\r\n          <ul>{files}</ul>\r\n        </aside>\r\n        {imagePreview && (\r\n          <div>\r\n            <h4>Image Preview:</h4>\r\n            <img src={imagePreview} alt=\"Image Preview\" style={{ maxWidth: '100%' }} />\r\n          </div>\r\n        )}\r\n      </section>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" mb={5}>\r\n        <Typography variant=\"h4\" gutterBottom>\r\n          Create New Vehicle For Arl-Tech\r\n        </Typography>\r\n      </Stack>\r\n\r\n      <Card>\r\n        <form onSubmit={handleFormSubmit}>\r\n          <Stack spacing={3} p={4}>\r\n            <TextField\r\n              label=\"Enter Vehicle Name\"\r\n              fullWidth\r\n              value={vehicleName}\r\n              onChange={(e) => setVehicleName(e.target.value)}\r\n            />\r\n            <Stack mt={4}>\r\n              <h4>Upload Image</h4>\r\n              <Basic />\r\n            </Stack>\r\n            <Button type=\"submit\" variant=\"contained\" color=\"warning\">\r\n              Submit\r\n            </Button>\r\n          </Stack>\r\n        </form>\r\n      </Card>\r\n    </Container>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}