{"ast":null,"code":"import React,{useState}from'react';import{api}from'../Api/Api';// Import the axios library\nimport{Card,Stack,Button,Container,Typography,TextField}from'@mui/material';import{useDropzone}from'react-dropzone';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function Vehicle(props){const[vehicleName,setVehicleName]=useState('');const[imageFile,setImageFile]=useState(null);const[imagePreview,setImagePreview]=useState(null);const handleFormSubmit=async e=>{e.preventDefault();const formData=new FormData();formData.append('name',vehicleName);formData.append('image',imageFile);// Add the image file to the formData\ntry{const response=await api.post('api/product/vehicles/',formData,{headers:{'Content-Type':'multipart/form-data'}});// Handle the success response, e.g., show a success message or redirect\nconsole.log('Request successful:',response.data);// Clear or reset the form fields by updating the state variables\nsetVehicleName('');setImageFile(null);setImagePreview(null);}catch(error){// Handle any errors that occurred during the POST request\nconsole.error('Error:',error);}};function Basic(props){const{acceptedFiles,getRootProps,getInputProps}=useDropzone({accept:'image/*',onDrop:acceptedFiles=>{setImageFile(acceptedFiles[0]);// Create a URL for the image preview\nconst imageURL=URL.createObjectURL(acceptedFiles[0]);setImagePreview(imageURL);}});const files=acceptedFiles.map(file=>/*#__PURE__*/_jsxs(\"li\",{children:[file.path,\" - \",file.size,\" bytes\"]},file.path));const dropzoneStyle={flex:1,display:'flex',flexDirection:'column',alignItems:'center',padding:'20px',borderWidth:2,borderRadius:2,borderColor:'#eeeeee',borderStyle:'dashed',backgroundColor:'#fafafa',color:'#bdbdbd',outline:'none',transition:'border .24s ease-in-out'};const dropzoneClassName='dropzone';return/*#__PURE__*/_jsxs(\"section\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{...getRootProps({style:dropzoneStyle,className:dropzoneClassName}),children:[/*#__PURE__*/_jsx(\"input\",{...getInputProps()}),/*#__PURE__*/_jsx(\"p\",{children:\"Drag 'n' drop some files here, or click to select files\"})]}),/*#__PURE__*/_jsxs(\"aside\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Uploaded Images :\"}),/*#__PURE__*/_jsx(\"ul\",{children:files})]}),imagePreview&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Image Preview:\"}),/*#__PURE__*/_jsx(\"img\",{src:imagePreview,alt:\"Image Preview\",style:{maxWidth:'100%'}})]})]});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Stack,{direction:\"row\",alignItems:\"center\",justifyContent:\"space-between\",mb:5,children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Create New Vehicle For Arl-Tech\"})}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleFormSubmit,children:/*#__PURE__*/_jsxs(Stack,{spacing:3,p:4,children:[/*#__PURE__*/_jsx(TextField,{label:\"Enter Vehicle Name\",fullWidth:true,value:vehicleName,onChange:e=>setVehicleName(e.target.value)}),/*#__PURE__*/_jsxs(Stack,{mt:4,children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Upload Image\"}),/*#__PURE__*/_jsx(Basic,{})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"warning\",children:\"Submit\"})]})})})]});}","map":{"version":3,"names":["React","useState","api","Card","Stack","Button","Container","Typography","TextField","useDropzone","jsxs","_jsxs","jsx","_jsx","Vehicle","props","vehicleName","setVehicleName","imageFile","setImageFile","imagePreview","setImagePreview","handleFormSubmit","e","preventDefault","formData","FormData","append","response","post","headers","console","log","data","error","Basic","acceptedFiles","getRootProps","getInputProps","accept","onDrop","imageURL","URL","createObjectURL","files","map","file","children","path","size","dropzoneStyle","flex","display","flexDirection","alignItems","padding","borderWidth","borderRadius","borderColor","borderStyle","backgroundColor","color","outline","transition","dropzoneClassName","className","style","src","alt","maxWidth","direction","justifyContent","mb","variant","gutterBottom","onSubmit","spacing","p","label","fullWidth","value","onChange","target","mt","type"],"sources":["D:/ArlTech/ChaturdhaAdmin/src/pages/Vehicle.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {api} from '../Api/Api'; // Import the axios library\r\nimport { Card, Stack, Button, Container, Typography,TextField} from '@mui/material';\r\nimport { useDropzone } from 'react-dropzone';\r\n\r\nexport default function Vehicle(props) {\r\n  const [vehicleName, setVehicleName] = useState('');\r\n  const [imageFile, setImageFile] = useState(null);\r\n  const [imagePreview, setImagePreview] = useState(null);\r\n\r\n  const handleFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    formData.append('name', vehicleName);\r\n    formData.append('image', imageFile); // Add the image file to the formData\r\n\r\n    try {\r\n      const response = await api.post('api/product/vehicles/', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n\r\n      // Handle the success response, e.g., show a success message or redirect\r\n      console.log('Request successful:', response.data);\r\n\r\n      // Clear or reset the form fields by updating the state variables\r\n      setVehicleName('');\r\n      setImageFile(null);\r\n      setImagePreview(null);\r\n    } catch (error) {\r\n      // Handle any errors that occurred during the POST request\r\n      console.error('Error:', error);\r\n    }\r\n  };\r\n\r\n  function Basic(props) {\r\n    const { acceptedFiles, getRootProps, getInputProps } = useDropzone({\r\n      accept: 'image/*',\r\n      onDrop: (acceptedFiles) => {\r\n        setImageFile(acceptedFiles[0]);\r\n\r\n        // Create a URL for the image preview\r\n        const imageURL = URL.createObjectURL(acceptedFiles[0]);\r\n        setImagePreview(imageURL);\r\n      },\r\n    });\r\n\r\n    const files = acceptedFiles.map(file => (\r\n      <li key={file.path}>\r\n        {file.path} - {file.size} bytes\r\n      </li>\r\n    ));\r\n\r\n    const dropzoneStyle = {\r\n      flex: 1,\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      padding: '20px',\r\n      borderWidth: 2,\r\n      borderRadius: 2,\r\n      borderColor: '#eeeeee',\r\n      borderStyle: 'dashed',\r\n      backgroundColor: '#fafafa',\r\n      color: '#bdbdbd',\r\n      outline: 'none',\r\n      transition: 'border .24s ease-in-out',\r\n    };\r\n\r\n    const dropzoneClassName = 'dropzone';\r\n\r\n    return (\r\n      <section className=\"container\">\r\n        <div {...getRootProps({ style: dropzoneStyle, className: dropzoneClassName })}>\r\n          <input {...getInputProps()} />\r\n          <p>Drag 'n' drop some files here, or click to select files</p>\r\n        </div>\r\n        <aside>\r\n          <h4>Uploaded Images :</h4>\r\n          <ul>{files}</ul>\r\n        </aside>\r\n        {imagePreview && (\r\n          <div>\r\n            <h4>Image Preview:</h4>\r\n            <img src={imagePreview} alt=\"Image Preview\" style={{ maxWidth: '100%' }} />\r\n          </div>\r\n        )}\r\n      </section>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" mb={5}>\r\n        <Typography variant=\"h4\" gutterBottom>\r\n          Create New Vehicle For Arl-Tech\r\n        </Typography>\r\n      </Stack>\r\n\r\n      <Card>\r\n        <form onSubmit={handleFormSubmit}>\r\n          <Stack spacing={3} p={4}>\r\n            <TextField\r\n              label=\"Enter Vehicle Name\"\r\n              fullWidth\r\n              value={vehicleName}\r\n              onChange={(e) => setVehicleName(e.target.value)}\r\n            />\r\n            <Stack mt={4}>\r\n              <h4>Upload Image</h4>\r\n              <Basic />\r\n            </Stack>\r\n            <Button type=\"submit\" variant=\"contained\" color=\"warning\">\r\n              Submit\r\n            </Button>\r\n          </Stack>\r\n        </form>\r\n      </Card>\r\n    </Container>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}